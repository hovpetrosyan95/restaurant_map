[{"/home/hovo/Projects/restaurants_map/src/reportWebVitals.js":"1","/home/hovo/Projects/restaurants_map/src/App.js":"2","/home/hovo/Projects/restaurants_map/src/containers/MainWrapper/index.js":"3","/home/hovo/Projects/restaurants_map/src/components/Restaurants/index.js":"4","/home/hovo/Projects/restaurants_map/src/components/MapSection/index.js":"5","/home/hovo/Projects/restaurants_map/src/index.js":"6","/home/hovo/Projects/restaurants_map/src/config/index.js":"7","/home/hovo/Projects/restaurants_map/src/components/Head/index.js":"8","/home/hovo/Projects/restaurants_map/src/components/List/index.js":"9","/home/hovo/Projects/restaurants_map/src/hooks/usePrevious.js":"10","/home/hovo/Projects/restaurants_map/src/components/CustomSelect/index.js":"11","/home/hovo/Projects/restaurants_map/src/components/RangeSlider/index.js":"12","/home/hovo/Projects/restaurants_map/src/constants/index.js":"13","/home/hovo/Projects/restaurants_map/src/components/TextSearch/index.js":"14"},{"size":362,"mtime":1608831360307,"results":"15","hashOfConfig":"16"},{"size":190,"mtime":1608870557031,"results":"17","hashOfConfig":"16"},{"size":3667,"mtime":1608974654729,"results":"18","hashOfConfig":"16"},{"size":500,"mtime":1608913412332,"results":"19","hashOfConfig":"16"},{"size":183,"mtime":1608894407027,"results":"20","hashOfConfig":"16"},{"size":500,"mtime":1608831360307,"results":"21","hashOfConfig":"16"},{"size":128,"mtime":1608876187030,"results":"22","hashOfConfig":"16"},{"size":1517,"mtime":1608914062046,"results":"23","hashOfConfig":"16"},{"size":1030,"mtime":1608974152944,"results":"24","hashOfConfig":"16"},{"size":187,"mtime":1608898190647,"results":"25","hashOfConfig":"16"},{"size":1296,"mtime":1608911032226,"results":"26","hashOfConfig":"16"},{"size":1255,"mtime":1608914270243,"results":"27","hashOfConfig":"16"},{"size":40,"mtime":1608908188293,"results":"28","hashOfConfig":"16"},{"size":664,"mtime":1608913912571,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"10wesxn",{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"45"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"41"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},"/home/hovo/Projects/restaurants_map/src/reportWebVitals.js",[],["66","67"],"/home/hovo/Projects/restaurants_map/src/App.js",[],["68","69"],"/home/hovo/Projects/restaurants_map/src/containers/MainWrapper/index.js",["70","71","72","73","74","75"],"import React, { useState, useRef, useEffect } from \"react\";\n\nimport mapboxgl from \"mapbox-gl\";\n\nimport MapSection from \"../../components/MapSection\";\nimport Restaurants from \"../../components/Restaurants\";\nimport usePrevious from \"../../hooks/usePrevious\";\n\nimport { mapAccessToken } from \"../../config\";\n\nimport restaurants from \"./restaurants.json\";\n\nimport \"./styles.scss\";\n\nmapboxgl.accessToken = mapAccessToken;\nconst { Map, Marker, Popup } = mapboxgl;\nlet map;\n\nexport default function MainWrapper() {\n  const [current, setCurrent] = useState(null);\n  const [ratingRange, setRatingRange] = useState([0, 5]);\n  const [searchText, setSearchText] = useState(\"\");\n  const [sortByName, setSortByName] = useState(null);\n  const [sortByRating, setSortByRating] = useState(null);\n  const previous = usePrevious(current);\n\n  const [center] = useState({\n    lat: 40.1772,\n    lng: 44.50349,\n  });\n\n  const [markers, setMarkers] = useState([]);\n  const [allMarkers, setAllMarkers] = useState([]);\n\n  const mapRef = useRef(null);\n\n  useEffect(() => {\n    const filteredMarkers = allMarkers.filter((m) => {\n      if (\n        m.title.search(searchText) !== -1 &&\n        m.rating >= ratingRange[0] &&\n        m.rating <= ratingRange[1]\n      ) {\n        m.marker.addTo(map);\n        return m;\n      } else {\n        m.marker.remove();\n      }\n    });\n\n    setMarkers(filteredMarkers);\n  }, [searchText, ratingRange]);\n\n  useEffect(() => {\n    map = new Map({\n      container: mapRef.current,\n      style: \"mapbox://styles/mapbox/streets-v11\",\n      center: [center.lng, center.lat], // starting position [lng, lat]\n      zoom: 12,\n    });\n    map.on(\"load\", () => {\n      const markers = restaurants.map((restaurant) => {\n        const {\n          coordinates: { lat, lng },\n          title,\n          description,\n        } = restaurant;\n        const marker = new Marker({\n          color: \"yellow\",\n        })\n          .setLngLat([lng, lat])\n          .setPopup(\n            new Popup().setHTML(`<h3>${title}</h3><p>${description}</p>`)\n          )\n          .addTo(map);\n\n        marker\n          .getElement()\n          .addEventListener(\"click\", () =>\n            setCurrent({ ...restaurant, marker })\n          );\n\n        return { ...restaurant, marker };\n      });\n\n      setMarkers(markers);\n      setAllMarkers(markers);\n    });\n  }, []);\n\n  useEffect(() => {\n    if (previous?.previous) {\n      previous.marker.togglePopup();\n    }\n    if (current?.fromList) {\n      current.marker.togglePopup();\n    }\n  }, [current]);\n\n  useEffect(() => {\n    if (sortByRating === \"ASC\") {\n      setMarkers([...markers.sort((a, b) => a.rating - b.rating)]);\n    }\n    if (sortByRating === \"DESC\") {\n      setMarkers([...markers.sort((a, b) => b.rating - a.rating)]);\n    }\n  }, [sortByRating]);\n\n  useEffect(() => {\n    if (sortByName === \"ASC\") {\n      setMarkers([...markers.sort((a, b) => (a.title > b.title ? 1 : -1))]);\n    }\n    if (sortByName === \"DESC\") {\n      setMarkers([\n        ...markers.sort((a, b) => -1 * (a.title > b.title ? 1 : -1)),\n      ]);\n    }\n  }, [sortByName]);\n\n  return (\n    <div className=\"main-wrapper\">\n      <MapSection\n        restaurants={markers}\n        setCurrent={setCurrent}\n        current={current}\n        mapRef={mapRef}\n      />\n      <Restaurants\n        restaurants={markers}\n        setCurrent={setCurrent}\n        current={current}\n        id={current && current.id}\n        ratingRange={ratingRange}\n        setRatingRange={setRatingRange}\n        sorting={{ setSortByName, sortByName, setSortByRating, sortByRating }}\n        filtering={{ ratingRange, setRatingRange, searchText, setSearchText }}\n      />\n    </div>\n  );\n}\n","/home/hovo/Projects/restaurants_map/src/components/Restaurants/index.js",[],["76","77"],"/home/hovo/Projects/restaurants_map/src/components/MapSection/index.js",["78","79","80"],"import React, { useRef, useEffect, useState } from \"react\";\n\nexport default function MapSection({ restaurants, current, mapRef }) {\n  \n\n  return <div ref={mapRef}>MapSection</div>;\n}\n",["81","82"],"/home/hovo/Projects/restaurants_map/src/index.js",[],["83","84"],"/home/hovo/Projects/restaurants_map/src/config/index.js",[],"/home/hovo/Projects/restaurants_map/src/components/Head/index.js",["85"],"import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport RangeSlider from \"../RangeSlider\";\nimport CustomSelect from \"../CustomSelect\";\nimport TextSearch from \"../TextSearch\";\nimport { ASC_DESC } from \"../../constants\";\n\nimport \"./styles.scss\";\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    margin: theme.spacing(1),\n    width: \"200px\",\n  },\n}));\n\nexport default function Head({ sorting, filtering }) {\n  const classes = useStyles();\n  const {\n    sortByName,\n    sortByRating,\n    setSortByName,\n    setSortByRating,\n  } = sorting || {\n    sortByName: null,\n    sortByRating: null,\n    setSortByName: null,\n    setSortByRating: null,\n  };\n\n  const {\n    ratingRange,\n    setRatingRange,\n    searchText,\n    setSearchText,\n  } = filtering || {\n    ratingRange: null,\n    setRatingRange: null,\n    searchText: null,\n    setSearchText: null,\n  };\n\n  return (\n    <div className=\"head\">\n      <div>\n        <CustomSelect\n          label=\"Sort By Rating\"\n          values={ASC_DESC}\n          onChange={setSortByRating}\n          val={sortByRating}\n        />\n      </div>\n      <div>\n        <CustomSelect\n          label=\"Sort By Name\"\n          values={ASC_DESC}\n          onChange={setSortByName}\n          val={sortByName}\n        />\n      </div>\n      <div>\n        <RangeSlider values={ratingRange} setRatingRange={setRatingRange} />\n      </div>\n\n      <div>\n        <TextSearch val={searchText} setSearchText={setSearchText} />\n      </div>\n    </div>\n  );\n}\n","/home/hovo/Projects/restaurants_map/src/components/List/index.js",[],"/home/hovo/Projects/restaurants_map/src/hooks/usePrevious.js",[],"/home/hovo/Projects/restaurants_map/src/components/CustomSelect/index.js",[],"/home/hovo/Projects/restaurants_map/src/components/RangeSlider/index.js",[],"/home/hovo/Projects/restaurants_map/src/constants/index.js",[],"/home/hovo/Projects/restaurants_map/src/components/TextSearch/index.js",[],{"ruleId":"86","replacedBy":"87"},{"ruleId":"88","replacedBy":"89"},{"ruleId":"86","replacedBy":"90"},{"ruleId":"88","replacedBy":"91"},{"ruleId":"92","severity":1,"message":"93","line":38,"column":51,"nodeType":"94","messageId":"95","endLine":38,"endColumn":53},{"ruleId":"96","severity":1,"message":"97","line":52,"column":6,"nodeType":"98","endLine":52,"endColumn":31,"suggestions":"99"},{"ruleId":"96","severity":1,"message":"100","line":89,"column":6,"nodeType":"98","endLine":89,"endColumn":8,"suggestions":"101"},{"ruleId":"96","severity":1,"message":"102","line":98,"column":6,"nodeType":"98","endLine":98,"endColumn":15,"suggestions":"103"},{"ruleId":"96","severity":1,"message":"104","line":107,"column":6,"nodeType":"98","endLine":107,"endColumn":20,"suggestions":"105"},{"ruleId":"96","severity":1,"message":"104","line":118,"column":6,"nodeType":"98","endLine":118,"endColumn":18,"suggestions":"106"},{"ruleId":"86","replacedBy":"107"},{"ruleId":"88","replacedBy":"108"},{"ruleId":"109","severity":1,"message":"110","line":1,"column":17,"nodeType":"111","messageId":"112","endLine":1,"endColumn":23},{"ruleId":"109","severity":1,"message":"113","line":1,"column":25,"nodeType":"111","messageId":"112","endLine":1,"endColumn":34},{"ruleId":"109","severity":1,"message":"114","line":1,"column":36,"nodeType":"111","messageId":"112","endLine":1,"endColumn":44},{"ruleId":"86","replacedBy":"115"},{"ruleId":"88","replacedBy":"116"},{"ruleId":"86","replacedBy":"117"},{"ruleId":"88","replacedBy":"118"},{"ruleId":"109","severity":1,"message":"119","line":20,"column":9,"nodeType":"111","messageId":"112","endLine":20,"endColumn":16},"no-native-reassign",["120"],"no-negated-in-lhs",["121"],["120"],["121"],"array-callback-return","Array.prototype.filter() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'allMarkers'. Either include it or remove the dependency array.","ArrayExpression",["122"],"React Hook useEffect has missing dependencies: 'center.lat' and 'center.lng'. Either include them or remove the dependency array.",["123"],"React Hook useEffect has missing dependencies: 'previous.marker' and 'previous?.previous'. Either include them or remove the dependency array.",["124"],"React Hook useEffect has a missing dependency: 'markers'. Either include it or remove the dependency array. You can also do a functional update 'setMarkers(m => ...)' if you only need 'markers' in the 'setMarkers' call.",["125"],["126"],["120"],["121"],"no-unused-vars","'useRef' is defined but never used.","Identifier","unusedVar","'useEffect' is defined but never used.","'useState' is defined but never used.",["120"],["121"],["120"],["121"],"'classes' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"127","fix":"128"},{"desc":"129","fix":"130"},{"desc":"131","fix":"132"},{"desc":"133","fix":"134"},{"desc":"135","fix":"136"},"Update the dependencies array to be: [searchText, ratingRange, allMarkers]",{"range":"137","text":"138"},"Update the dependencies array to be: [center.lat, center.lng]",{"range":"139","text":"140"},"Update the dependencies array to be: [current, previous.marker, previous?.previous]",{"range":"141","text":"142"},"Update the dependencies array to be: [markers, sortByRating]",{"range":"143","text":"144"},"Update the dependencies array to be: [markers, sortByName]",{"range":"145","text":"146"},[1383,1408],"[searchText, ratingRange, allMarkers]",[2339,2341],"[center.lat, center.lng]",[2514,2523],"[current, previous.marker, previous?.previous]",[2769,2783],"[markers, sortByRating]",[3065,3077],"[markers, sortByName]"]